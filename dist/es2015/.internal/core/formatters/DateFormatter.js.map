{"version":3,"file":"DateFormatter.js","sourceRoot":"","sources":["../../../../../src/.internal/core/formatters/DateFormatter.ts"],"names":[],"mappings":"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","sourcesContent":["/**\r\n * Handles date and time formatting\r\n */\r\n\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Sprite } from \"../Sprite\";\r\nimport { Language, ILocaleProperties } from \"../utils/Language\";\r\nimport { BaseObject } from \"../Base\";\r\nimport { ITextChunk, getTextFormatter } from \"../formatters/TextFormatter\";\r\nimport { registry } from \"../Registry\";\r\nimport * as $strings from \"../utils/Strings\";\r\nimport * as $utils from \"../utils/Utils\";\r\nimport * as $type from \"../utils/Type\";\r\n\r\n/**\r\n * Interface describing parsed date format definition.\r\n */\r\nexport interface DateFormatInfo {\r\n\t\"template\": string;\r\n\t\"parts\": any[];\r\n}\r\n\r\n/**\r\n * Month names.\r\n *\r\n * @type {string}\r\n */\r\nexport type MonthNames = \"January\" | \"February\" | \"March\" | \"April\" | \"May\" | \"June\" | \"July\" | \"August\" | \"September\" | \"October\" | \"November\" | \"December\";\r\n\r\n/**\r\n * Short month names.\r\n *\r\n * @param {string}\r\n */\r\nexport type ShortMonthNames = \"Jan\" | \"Feb\" | \"Mar\" | \"Apr\" | \"May(short)\" | \"Jun\" | \"Jul\" | \"Aug\" | \"Sep\" | \"Oct\" | \"Nov\" | \"Dec\";\r\n\r\n/**\r\n * Weekedays.\r\n *\r\n * @type {string}\r\n */\r\nexport type Weekdays = \"Sunday\" | \"Monday\" | \"Tuesday\" | \"Wednesday\" | \"Thursday\" | \"Friday\" | \"Saturday\";\r\n\r\n/**\r\n * Short weekday names.\r\n *\r\n * @type {string}\r\n */\r\nexport type ShortWeekdays = \"Sun\" | \"Mon\" | \"Tue\" | \"Wed\" | \"Thu\" | \"Fri\" | \"Sat\";\r\n\r\n/**\r\n * Handles date and time formatting.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v4/concepts/formatters/formatting-date-time/} Tutorial on date/time formatting\r\n * @todo Better type casting of passed in date?\r\n * @todo Quarter support?\r\n * @todo When parsing named months make the search case-insensitive\r\n * @todo Escape a.m./p.m. properly when used in RegEx\r\n */\r\nexport class DateFormatter extends BaseObject {\r\n\r\n\t/**\r\n\t * Date format.\r\n\t *\r\n\t * @type {string}\r\n\t */\r\n\tprotected _dateFormat: string = \"yyyy-MM-dd\";\r\n\r\n\t/**\r\n\t * Input date format.\r\n\t *\r\n\t * @type {string}\r\n\t */\r\n\tprotected _inputDateFormat: string = \"yyyy-MM-dd\";\r\n\r\n\t/**\r\n\t * Assume UTC time zone.\r\n\t *\r\n\t * @type {boolean}\r\n\t */\r\n\tprotected _utc: boolean = false;\r\n\r\n\t/**\r\n\t * First day of week.\r\n\t *\r\n\t * 0 - Sunday\r\n\t * 1 - Monday\r\n\t *\r\n\t * Etc.\r\n\t *\r\n\t * @type {number}\r\n\t */\r\n\tprotected _firstDayOfWeek: number = 1;\r\n\r\n\t/**\r\n\t * A list of month names.\r\n\t *\r\n\t * @type {Array<MonthNames>}\r\n\t */\r\n\tprotected _months: Array<MonthNames> = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\n\t/**\r\n\t * A list of short month names.\r\n\t *\r\n\t * @param {Array<ShortMonthNames>}\r\n\t */\r\n\tprotected _monthsShort: Array<ShortMonthNames> = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May(short)\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\r\n\r\n\t/**\r\n\t * A list of weekday names.\r\n\t *\r\n\t * @type {Array<Weekdays>}\r\n\t */\r\n\tprotected _weekdays: Array<Weekdays> = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\n\r\n\t/**\r\n\t * A list of short weekday names.\r\n\t *\r\n\t * @type {Array<ShortWeekdays>}\r\n\t */\r\n\tprotected _weekdaysShort: Array<ShortWeekdays> = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\r\n\r\n\t/**\r\n\t * Output format to produce. If the format calls for applying color to the\r\n\t * formatted value, this setting will determine what markup to use: SVG or\r\n\t * HTML.\r\n\t *\r\n\t * Available options: svg, html.\r\n\t *\r\n\t * @default \"svg\"\r\n\t * @type {string}\r\n\t */\r\n\tprotected _outputFormat: string = \"svg\";\r\n\r\n\t/**\r\n\t * Holds reference to parent [[Sprite]] object.\r\n\t *\r\n\t * @type {Optional<Sprite>}\r\n\t */\r\n\tpublic sprite: $type.Optional<Sprite>;\r\n\r\n\t/**\r\n\t * Holds reference to [[Language]] object.\r\n\t *\r\n\t * @type {Optional<Language>}\r\n\t */\r\n\tpublic language: $type.Optional<Language>;\r\n\r\n\r\n\t/**\r\n\t * Should the first letter of the formatted date be capitalized?\r\n\t *\r\n\t * @default true\r\n\t * @type {boolean}\r\n\t */\r\n\tpublic capitalize: boolean = true;\r\n\r\n\t/**\r\n\t * Constructor\r\n\t */\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.className = \"DateFormatter\";\r\n\t\tthis.applyTheme();\r\n\t}\r\n\r\n\t/**\r\n\t * Formats the date value according to specified format.\r\n\t *\r\n\t * @see {@link https://www.amcharts.com/docs/v4/concepts/formatters/formatting-date-time/} Tutorial on date/time formatting\r\n\t * @param  {any}     source  Date value\r\n\t * @param  {string}  format  Format\r\n\t * @return {string}          Formatted date string\r\n\t */\r\n\tpublic format(source: any, format?: string): string {\r\n\r\n\t\t// No language?\r\n\t\tif (!this.language) {\r\n\t\t\tif (this.sprite) {\r\n\t\t\t\tthis.language = this.sprite.language;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.language = new Language;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// No format passed in or it's empty\r\n\t\tif (typeof format === \"undefined\" || format === \"\") {\r\n\t\t\tformat = this._dateFormat;\r\n\t\t}\r\n\r\n\t\t// Clean format\r\n\t\tformat = $utils.cleanFormat(format);\r\n\r\n\t\t// get format info (it will also deal with parser caching)\r\n\t\tlet info = this.parseFormat(format);\r\n\r\n\t\t// Do any casting if required\r\n\t\t// This will take care of timestamps as well as Date objects\r\n\t\tlet date: Date = $utils.anyToDate(source);\r\n\r\n\t\t// Check if it's a valid date\r\n\t\tif (!$type.isNumber(date.getTime())) {\r\n\t\t\treturn this.language.translate(\"Invalid date\");\r\n\t\t}\r\n\r\n\t\t// Apply format\r\n\t\tlet formatted = this.applyFormat(date, info, this.language);\r\n\r\n\r\n\t\t// Capitalize\r\n\t\tif (this.capitalize) {\r\n\t\t\tformatted = formatted.replace(\r\n\t\t\t\t/^.{1}/, formatted.substr(0, 1).toUpperCase()\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\t// We're done\r\n\t\treturn formatted;\r\n\t}\r\n\r\n\t/**\r\n\t * Parses format into structured infromation.\r\n\t *\r\n\t * @param {string} format Format template\r\n\t */\r\n\tprotected parseFormat(format: string): DateFormatInfo {\r\n\r\n\t\t// Check cache\r\n\t\tlet cached = this.getCache(format);\r\n\t\tif ($type.hasValue(cached)) {\r\n\t\t\treturn cached;\r\n\t\t}\r\n\r\n\t\t// Init format parse info holder\r\n\t\tlet info: DateFormatInfo = {\r\n\t\t\t\"template\": \"\",\r\n\t\t\t\"parts\": <any>[]\r\n\t\t};\r\n\r\n\t\t// Let TextFormatter split into chunks\r\n\t\tlet chunks: ITextChunk[] = getTextFormatter().chunk(format, true);\r\n\t\tfor (let i: number = 0; i < chunks.length; i++) {\r\n\t\t\tlet chunk: ITextChunk = chunks[i];\r\n\r\n\t\t\tif (chunk.type === \"value\") {\r\n\r\n\t\t\t\t// Just \"Date\"?\r\n\t\t\t\tif (chunk.text.match(/^date$/i)) {\r\n\t\t\t\t\tchunk.text = this._dateFormat;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Find all possible parts\r\n\t\t\t\tlet matches = chunk.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);\r\n\r\n\t\t\t\t// Found?\r\n\t\t\t\tif (matches) {\r\n\r\n\t\t\t\t\t// Populate template\r\n\t\t\t\t\tfor (let x = 0; x < matches.length; x++) {\r\n\t\t\t\t\t\tinfo.parts.push(matches[x]);\r\n\t\t\t\t\t\tchunk.text = chunk.text.replace(matches[x], $strings.PLACEHOLDER);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Apply to template\r\n\t\t\tinfo.template += chunk.text;\r\n\t\t}\r\n\r\n\t\t// Apply style formatting\r\n\t\t//info.template = getTextFormatter().format(info.template, this.outputFormat);\r\n\r\n\t\t// Save cache\r\n\t\tthis.setCache(format, info);\r\n\r\n\t\treturn info;\r\n\t}\r\n\r\n\t/**\r\n\t * Applies format to Date.\r\n\t *\r\n\t * @param  {Date}            date      Date object\r\n\t * @param  {DateFormatInfo}  info      Parsed format information\r\n\t * @param  {Language}        language  Language\r\n\t * @return {string}                    Formatted date string\r\n\t */\r\n\tprotected applyFormat(date: Date, info: DateFormatInfo, language: Language): string {\r\n\r\n\t\t// Init return value\r\n\t\tlet res = info.template;\r\n\r\n\t\t// Get values\r\n\t\tlet fullYear: number,\r\n\t\t\tmonth: number,\r\n\t\t\tweekday: number,\r\n\t\t\tday: number,\r\n\t\t\thours: number,\r\n\t\t\tminutes: number,\r\n\t\t\tseconds: number,\r\n\t\t\tmilliseconds: number,\r\n\t\t\toffset: number = date.getTimezoneOffset(),\r\n\t\t\ttimestamp: number = date.getTime();\r\n\t\tif (this.utc) {\r\n\t\t\tfullYear = date.getUTCFullYear();\r\n\t\t\tmonth = date.getUTCMonth();\r\n\t\t\tweekday = date.getUTCDay();\r\n\t\t\tday = date.getUTCDate();\r\n\t\t\thours = date.getUTCHours();\r\n\t\t\tminutes = date.getUTCMinutes();\r\n\t\t\tseconds = date.getUTCSeconds();\r\n\t\t\tmilliseconds = date.getUTCMilliseconds();\r\n\t\t}\r\n\t\telse {\r\n\t\t\tfullYear = date.getFullYear();\r\n\t\t\tmonth = date.getMonth();\r\n\t\t\tweekday = date.getDay();\r\n\t\t\tday = date.getDate();\r\n\t\t\thours = date.getHours();\r\n\t\t\tminutes = date.getMinutes();\r\n\t\t\tseconds = date.getSeconds();\r\n\t\t\tmilliseconds = date.getMilliseconds();\r\n\t\t}\r\n\r\n\t\t// Go through each part and format/replace it in template\r\n\t\tfor (let i = 0, len = info.parts.length; i < len; i++) {\r\n\t\t\tlet value: string = \"\";\r\n\t\t\tswitch (info.parts[i]) {\r\n\r\n\t\t\t\tcase \"G\":\r\n\t\t\t\t\tvalue = language.translate(\r\n\t\t\t\t\t\tfullYear < 0\r\n\t\t\t\t\t\t\t? \"_era_bc\"\r\n\t\t\t\t\t\t\t: \"_era_ad\"\r\n\t\t\t\t\t);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"yyyy\":\r\n\t\t\t\t\tvalue = Math.abs(fullYear).toString();\r\n\t\t\t\t\tif (fullYear < 0) {\r\n\t\t\t\t\t\tvalue += language.translate(\"_era_bc\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"yyy\":\r\n\t\t\t\tcase \"yy\":\r\n\t\t\t\tcase \"y\":\r\n\t\t\t\t\tvalue = Math.abs(fullYear).toString().substr(-info.parts[i].length);\r\n\t\t\t\t\tif (fullYear < 0) {\r\n\t\t\t\t\t\tvalue += language.translate(\"_era_bc\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"YYYY\":\r\n\t\t\t\tcase \"YYY\":\r\n\t\t\t\tcase \"YY\":\r\n\t\t\t\tcase \"Y\":\r\n\t\t\t\t\tlet week = $utils.getWeek(date);\r\n\t\t\t\t\tlet year = fullYear;\r\n\t\t\t\t\tif (week == 1 && weekday > 1) {\r\n\t\t\t\t\t\tyear++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (info.parts[i] == \"YYYY\") {\r\n\t\t\t\t\t\tvalue = Math.abs(year).toString();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tvalue = Math.abs(year).toString().substr(-info.parts[i].length);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (year < 0) {\r\n\t\t\t\t\t\tvalue += language.translate(\"_era_bc\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"u\":\r\n\t\t\t\t\t// @todo\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"MMMMM\":\r\n\t\t\t\t\tvalue = language.translate(this._months[month]).substr(0, 1);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"MMMM\":\r\n\t\t\t\t\tvalue = language.translate(this._months[month]);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"MMM\":\r\n\t\t\t\t\tvalue = language.translate(this._monthsShort[month]);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"MM\":\r\n\t\t\t\t\tvalue = $utils.padString(month + 1, 2, \"0\");\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"M\":\r\n\t\t\t\t\tvalue = (month + 1).toString();\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"ww\":\r\n\t\t\t\t\tvalue = $utils.padString($utils.getWeek(date, this.utc), 2, \"0\");\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"w\":\r\n\t\t\t\t\tvalue = $utils.getWeek(date, this.utc).toString();\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"W\":\r\n\t\t\t\t\tvalue = $utils.getMonthWeek(date, this.utc).toString();\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"dd\":\r\n\t\t\t\t\tvalue = $utils.padString(day, 2, \"0\");\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"d\":\r\n\t\t\t\t\tvalue = day.toString();\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"DD\":\r\n\t\t\t\tcase \"DDD\":\r\n\t\t\t\t\tvalue = $utils.padString($utils.getYearDay(date, this.utc).toString(), info.parts[i].length, \"0\");\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"D\":\r\n\t\t\t\t\tvalue = $utils.getYearDay(date, this.utc).toString();\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"F\":\r\n\t\t\t\t\t// @todo\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"g\":\r\n\t\t\t\t\t// @todo\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"t\":\r\n\t\t\t\t\tvalue = language.translateFunc(\"_dateOrd\").call(this, day);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"E\":\r\n\t\t\t\t\tvalue = (weekday || 7).toString();\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"EE\":\r\n\t\t\t\t\tvalue = $utils.padString((weekday || 7).toString(), 2, \"0\");\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"EEE\":\r\n\t\t\t\tcase \"eee\":\r\n\t\t\t\t\tvalue = language.translate(this._weekdaysShort[weekday]);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"EEEE\":\r\n\t\t\t\tcase \"eeee\":\r\n\t\t\t\t\tvalue = language.translate(this._weekdays[weekday]);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"EEEEE\":\r\n\t\t\t\tcase \"eeeee\":\r\n\t\t\t\t\tvalue = language.translate(this._weekdays[weekday]).substr(0, 1);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"e\":\r\n\t\t\t\tcase \"ee\":\r\n\t\t\t\t\tvalue = (weekday - this.firstDayOfWeek + 1).toString();\r\n\t\t\t\t\tif (info.parts[i] == \"ee\") {\r\n\t\t\t\t\t\tvalue = $utils.padString(value, 2, \"0\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"a\":\r\n\t\t\t\t\tif (hours >= 12) {\r\n\t\t\t\t\t\tvalue = language.translate(\"PM\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tvalue = language.translate(\"AM\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"aa\":\r\n\t\t\t\t\tif (hours >= 12) {\r\n\t\t\t\t\t\tvalue = language.translate(\"P.M.\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tvalue = language.translate(\"A.M.\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"aaa\":\r\n\t\t\t\t\tif (hours >= 12) {\r\n\t\t\t\t\t\tvalue = language.translate(\"P\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tvalue = language.translate(\"A\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"h\":\r\n\t\t\t\t\tvalue = $utils.get12Hours(hours).toString();\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"hh\":\r\n\t\t\t\t\tvalue = $utils.padString($utils.get12Hours(hours), 2, \"0\");\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"H\":\r\n\t\t\t\t\tvalue = hours.toString();\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"HH\":\r\n\t\t\t\t\tvalue = $utils.padString(hours, 2, \"0\");\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"K\":\r\n\t\t\t\t\tvalue = $utils.get12Hours(hours, 0).toString();\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"KK\":\r\n\t\t\t\t\tvalue = $utils.padString($utils.get12Hours(hours, 0), 2, \"0\");\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"k\":\r\n\t\t\t\t\tvalue = (hours + 1).toString();\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"kk\":\r\n\t\t\t\t\tvalue = $utils.padString(hours + 1, 2, \"0\");\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"m\":\r\n\t\t\t\t\tvalue = minutes.toString();\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"mm\":\r\n\t\t\t\t\tvalue = $utils.padString(minutes, 2, \"0\");\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"s\":\r\n\t\t\t\t\tvalue = seconds.toString();\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"ss\":\r\n\t\t\t\t\tvalue = $utils.padString(seconds, 2, \"0\");\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"S\":\r\n\t\t\t\tcase \"SS\":\r\n\t\t\t\tcase \"SSS\":\r\n\t\t\t\t\tvalue = Math.round((milliseconds / 1000) * Math.pow(10, info.parts[i].length)).toString();\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"x\":\r\n\t\t\t\t\tvalue = timestamp.toString();\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"n\":\r\n\t\t\t\tcase \"nn\":\r\n\t\t\t\tcase \"nnn\":\r\n\t\t\t\t\tvalue = $utils.padString(milliseconds, info.parts[i].length, \"0\");\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"z\":\r\n\t\t\t\t\tvalue = $utils.getTimeZone(date, false, false, this.utc);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"zz\":\r\n\t\t\t\t\tvalue = $utils.getTimeZone(date, true, false, this.utc);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"zzz\":\r\n\t\t\t\t\tvalue = $utils.getTimeZone(date, false, true, this.utc);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"zzzz\":\r\n\t\t\t\t\tvalue = $utils.getTimeZone(date, true, true, this.utc);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"Z\":\r\n\t\t\t\tcase \"ZZ\":\r\n\t\t\t\t\tlet tz = Math.abs(offset) / 60;\r\n\t\t\t\t\tlet tzh = Math.floor(tz);\r\n\t\t\t\t\tlet tzm = tz * 60 - tzh * 60;\r\n\r\n\t\t\t\t\tif (info.parts[i] == \"Z\") {\r\n\t\t\t\t\t\tvalue = \"GMT\";\r\n\t\t\t\t\t\tvalue += offset > 0 ? \"-\" : \"+\";\r\n\t\t\t\t\t\tvalue += $utils.padString(tzh, 2) + \":\" + $utils.padString(tzm, 2);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tvalue = offset > 0 ? \"-\" : \"+\";\r\n\t\t\t\t\t\tvalue += $utils.padString(tzh, 2) + $utils.padString(tzm, 2);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"i\":\r\n\t\t\t\t\tvalue = date.toISOString();\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"I\":\r\n\t\t\t\t\tvalue = date.toUTCString();\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\t\t\tres = res.replace($strings.PLACEHOLDER, value);\r\n\t\t}\r\n\r\n\t\treturn res;\r\n\t}\r\n\r\n\t/**\r\n\t * Parses any input value into Date object.\r\n\t *\r\n\t * @see {@link https://www.amcharts.com/docs/v4/concepts/formatters/formatting-date-time/#Parsing_Dates} Tutorial on date/time parsing\r\n\t * @param  {any}     source  Source value\r\n\t * @param  {string}  format  Source format\r\n\t * @return {Date}            Date object\r\n\t */\r\n\tpublic parse(source: any, format?: string): Date {\r\n\r\n\t\t// Format set?\r\n\t\tif (!$type.hasValue(format)) {\r\n\t\t\tformat = this.inputDateFormat;\r\n\t\t}\r\n\r\n\t\t// Is it already a Date\r\n\t\tif (source instanceof Date) {\r\n\t\t\treturn source;\r\n\t\t}\r\n\r\n\t\t// Is it a numeric timestamp\r\n\t\tif (typeof source === \"number\") {\r\n\t\t\treturn new Date(source);\r\n\t\t}\r\n\r\n\t\t// No? Let's check if it's string, and try converting to it if nec\r\n\t\tif (typeof source !== \"string\") {\r\n\t\t\tsource = source.toString();\r\n\t\t}\r\n\r\n\t\t// no language?\r\n\t\tif (!this.language) {\r\n\t\t\tif (this.sprite) {\r\n\t\t\t\tthis.language = this.sprite.language;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.language = new Language;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Init return value\r\n\t\tlet res: Date = new Date(1970, 0, 1, 0, 0, 0);\r\n\r\n\t\t// Init RegEx for parsing\r\n\t\tlet reg: string = \"\";\r\n\r\n\t\t// Clean format\r\n\t\tformat = $utils.cleanFormat(format);\r\n\r\n\t\t// Parse format\r\n\t\tlet info = this.parseFormat(format);\r\n\r\n\t\t// Init parsed items holder\r\n\t\tlet parsedIndexes = {\r\n\t\t\t\"year\": -1,\r\n\t\t\t\"year3\": -1,\r\n\t\t\t\"year2\": -1,\r\n\t\t\t\"year1\": -1,\r\n\t\t\t\"month\": -1,\r\n\t\t\t\"monthShort\": -1,\r\n\t\t\t\"monthLong\": -1,\r\n\t\t\t\"weekdayShort\": -1,\r\n\t\t\t\"weekdayLong\": -1,\r\n\t\t\t\"day\": -1,\r\n\t\t\t\"yearDay\": -1,\r\n\t\t\t\"week\": -1,\r\n\t\t\t\"hourBase0\": -1,\r\n\t\t\t\"hour12Base0\": -1,\r\n\t\t\t\"hourBase1\": -1,\r\n\t\t\t\"hour12Base1\": -1,\r\n\t\t\t\"minute\": -1,\r\n\t\t\t\"second\": -1,\r\n\t\t\t\"millisecond\": -1,\r\n\t\t\t\"millisecondDigits\": -1,\r\n\t\t\t\"am\": -1,\r\n\t\t\t\"zone\": -1,\r\n\t\t\t\"timestamp\": -1,\r\n\t\t\t\"iso\": -1\r\n\t\t};\r\n\r\n\t\t// Index adjuster\r\n\t\tlet indexAdjust: number = 0,\r\n\t\t\tindex: number = 0;\r\n\r\n\t\t// Iterate through all of the parts\r\n\t\tfor (let i: number = 0; i < info.parts.length; i++) {\r\n\r\n\t\t\t// Set current match index\r\n\t\t\tindex = i + indexAdjust + 1;\r\n\r\n\t\t\tswitch (info.parts[i]) {\r\n\r\n\t\t\t\tcase \"yyyy\":\r\n\t\t\t\tcase \"YYYY\":\r\n\t\t\t\t\treg += \"([0-9]{4,})\";\r\n\t\t\t\t\tparsedIndexes.year = index;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"yyy\":\r\n\t\t\t\tcase \"YYY\":\r\n\t\t\t\t\treg += \"([0-9]{3})\";\r\n\t\t\t\t\tparsedIndexes.year3 = index;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"yy\":\r\n\t\t\t\tcase \"YY\":\r\n\t\t\t\t\treg += \"([0-9]{2})\";\r\n\t\t\t\t\tparsedIndexes.year2 = index;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"y\":\r\n\t\t\t\tcase \"Y\":\r\n\t\t\t\t\treg += \"([0-9]{1})\";\r\n\t\t\t\t\tparsedIndexes.year1 = index;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"MMMM\":\r\n\t\t\t\t\treg += \"(\" + this.getStringList(this._months).join(\"|\") + \")\";\r\n\t\t\t\t\tparsedIndexes.monthLong = index;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"MMM\":\r\n\t\t\t\t\treg += \"(\" + this.getStringList(this._monthsShort).join(\"|\") + \")\";\r\n\t\t\t\t\tparsedIndexes.monthShort = index;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"MM\":\r\n\t\t\t\tcase \"M\":\r\n\t\t\t\t\treg += \"([0-9]{2}|[0-9]{1})\";\r\n\t\t\t\t\tparsedIndexes.month = index;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"ww\":\r\n\t\t\t\tcase \"w\":\r\n\t\t\t\t\treg += \"([0-9]{2}|[0-9]{1})\";\r\n\t\t\t\t\tparsedIndexes.week = index;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"dd\":\r\n\t\t\t\tcase \"d\":\r\n\t\t\t\t\treg += \"([0-9]{2}|[0-9]{1})\";\r\n\t\t\t\t\tparsedIndexes.day = index;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"DDD\":\r\n\t\t\t\tcase \"DD\":\r\n\t\t\t\tcase \"D\":\r\n\t\t\t\t\treg += \"([0-9]{3}|[0-9]{2}|[0-9]{1})\";\r\n\t\t\t\t\tparsedIndexes.yearDay = index;\r\n\t\t\t\t\tbreak;\r\n\r\n\r\n\t\t\t\tcase \"dddd\":\r\n\t\t\t\t\treg += \"(\" + this.getStringList(this._weekdays).join(\"|\") + \")\";\r\n\t\t\t\t\tparsedIndexes.weekdayLong = index;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"ddd\":\r\n\t\t\t\t\treg += \"(\" + this.getStringList(this._weekdaysShort).join(\"|\") + \")\";\r\n\t\t\t\t\tparsedIndexes.weekdayShort = index;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"aaa\":\r\n\t\t\t\tcase \"aa\":\r\n\t\t\t\tcase \"a\":\r\n\t\t\t\t\t// TODO: fix (escape regex)\r\n\t\t\t\t\treg += \"(\" + this.getStringList([\"AM\", \"PM\", \"A\\.M\\.\", \"P\\.M\\.\", \"A\", \"P\"]).join(\"|\") + \")\";\r\n\t\t\t\t\tparsedIndexes.am = index;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"hh\":\r\n\t\t\t\tcase \"h\":\r\n\t\t\t\t\treg += \"([0-9]{2}|[0-9]{1})\";\r\n\t\t\t\t\tparsedIndexes.hour12Base1 = index;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"HH\":\r\n\t\t\t\tcase \"H\":\r\n\t\t\t\t\treg += \"([0-9]{2}|[0-9]{1})\";\r\n\t\t\t\t\tparsedIndexes.hourBase0 = index;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"KK\":\r\n\t\t\t\tcase \"K\":\r\n\t\t\t\t\treg += \"([0-9]{2}|[0-9]{1})\";\r\n\t\t\t\t\tparsedIndexes.hour12Base0 = index;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"kk\":\r\n\t\t\t\tcase \"k\":\r\n\t\t\t\t\treg += \"([0-9]{2}|[0-9]{1})\";\r\n\t\t\t\t\tparsedIndexes.hourBase1 = index;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"mm\":\r\n\t\t\t\tcase \"m\":\r\n\t\t\t\t\treg += \"([0-9]{2}|[0-9]{1})\";\r\n\t\t\t\t\tparsedIndexes.minute = index;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"ss\":\r\n\t\t\t\tcase \"s\":\r\n\t\t\t\t\treg += \"([0-9]{2}|[0-9]{1})\";\r\n\t\t\t\t\tparsedIndexes.second = index;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"SSS\":\r\n\t\t\t\tcase \"SS\":\r\n\t\t\t\tcase \"S\":\r\n\t\t\t\t\treg += \"([0-9]{3}|[0-9]{2}|[0-9]{1})\";\r\n\t\t\t\t\tparsedIndexes.millisecond = index;\r\n\t\t\t\t\tparsedIndexes.millisecondDigits = info.parts[i].length;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"nnn\":\r\n\t\t\t\tcase \"nn\":\r\n\t\t\t\tcase \"n\":\r\n\t\t\t\t\treg += \"([0-9]{3}|[0-9]{2}|[0-9]{1})\";\r\n\t\t\t\t\tparsedIndexes.millisecond = index;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"x\":\r\n\t\t\t\t\treg += \"([0-9]{1,})\";\r\n\t\t\t\t\tparsedIndexes.timestamp = index;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"Z\":\r\n\t\t\t\t\treg += \"GMT([-+]+[0-9]{2}:[0-9]{2})\";\r\n\t\t\t\t\tparsedIndexes.zone = index;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"ZZ\":\r\n\t\t\t\t\treg += \"([\\\\-+]+[0-9]{2}[0-9]{2})\";\r\n\t\t\t\t\tparsedIndexes.zone = index;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"i\":\r\n\t\t\t\t\treg += \"([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})\\.([0-9]{3})([Zz]?)\";\r\n\t\t\t\t\tparsedIndexes.iso = index;\r\n\t\t\t\t\tindexAdjust += 7;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"G\":\r\n\t\t\t\tcase \"YYYY\":\r\n\t\t\t\tcase \"YYY\":\r\n\t\t\t\tcase \"YY\":\r\n\t\t\t\tcase \"Y\":\r\n\t\t\t\tcase \"MMMMM\":\r\n\t\t\t\tcase \"W\":\r\n\t\t\t\tcase \"EEEEE\":\r\n\t\t\t\tcase \"EEEE\":\r\n\t\t\t\tcase \"EEE\":\r\n\t\t\t\tcase \"EE\":\r\n\t\t\t\tcase \"E\":\r\n\t\t\t\tcase \"eeeee\":\r\n\t\t\t\tcase \"eeee\":\r\n\t\t\t\tcase \"eee\":\r\n\t\t\t\tcase \"ee\":\r\n\t\t\t\tcase \"e\":\r\n\t\t\t\tcase \"zzzz\":\r\n\t\t\t\tcase \"zzz\":\r\n\t\t\t\tcase \"zz\":\r\n\t\t\t\tcase \"z\":\r\n\t\t\t\tcase \"t\":\r\n\t\t\t\t\t// Ignore\r\n\t\t\t\t\tindexAdjust--;\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\treg += \"[^0-9]*\";\r\n\t\t}\r\n\r\n\t\t// Try matching\r\n\t\tlet regex = new RegExp(reg);\r\n\t\tlet matches: RegExpMatchArray;\r\n\t\tif (matches = source.match(regex)) {\r\n\t\t\t// Populate the date object\r\n\r\n\t\t\t// Full year\r\n\t\t\tif (parsedIndexes.year > -1) {\r\n\t\t\t\tlet val = parseInt(matches[parsedIndexes.year]);\r\n\t\t\t\tif (this.utc) {\r\n\t\t\t\t\tres.setUTCFullYear(val);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tres.setFullYear(val);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// 3-digit year\r\n\t\t\tif (parsedIndexes.year3 > -1) {\r\n\t\t\t\tlet val = parseInt(matches[parsedIndexes.year3]);\r\n\t\t\t\tval += 1000;\r\n\t\t\t\tif (this.utc) {\r\n\t\t\t\t\tres.setUTCFullYear(val);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tres.setFullYear(val);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// 2-digit year\r\n\t\t\tif (parsedIndexes.year2 > -1) {\r\n\t\t\t\tlet val = parseInt(matches[parsedIndexes.year2]);\r\n\t\t\t\tif (val > 50) {\r\n\t\t\t\t\tval += 1000;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tval += 2000;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.utc) {\r\n\t\t\t\t\tres.setUTCFullYear(val);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tres.setFullYear(val);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// 1-digit year\r\n\t\t\tif (parsedIndexes.year1 > -1) {\r\n\t\t\t\tlet val = parseInt(matches[parsedIndexes.year1]);\r\n\t\t\t\tval = Math.floor((new Date().getFullYear()) / 10) * 10 + val;\r\n\t\t\t\tif (this.utc) {\r\n\t\t\t\t\tres.setUTCFullYear(val);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tres.setFullYear(val);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Full month\r\n\t\t\tif (parsedIndexes.monthLong > -1) {\r\n\t\t\t\tlet val = this.resolveMonth(<any>matches[parsedIndexes.monthLong]);\r\n\t\t\t\tif (this.utc) {\r\n\t\t\t\t\tres.setUTCMonth(val);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tres.setMonth(val);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Short month\r\n\t\t\tif (parsedIndexes.monthShort > -1) {\r\n\t\t\t\tlet val = this.resolveShortMonth(<any>matches[parsedIndexes.monthShort]);\r\n\t\t\t\tif (this.utc) {\r\n\t\t\t\t\tres.setUTCMonth(val);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tres.setMonth(val);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Numeric month\r\n\t\t\tif (parsedIndexes.month > -1) {\r\n\t\t\t\tlet val = parseInt(matches[parsedIndexes.month]) - 1;\r\n\t\t\t\tif (this.utc) {\r\n\t\t\t\t\tres.setUTCMonth(val);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tres.setMonth(val);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Weekday\r\n\t\t\t// @todo\r\n\r\n\t\t\t// Week\r\n\t\t\tif ((parsedIndexes.week > -1) && (parsedIndexes.day === -1)) {\r\n\t\t\t\t// We parse weeks ONLY if day is not explicitly set\r\n\t\t\t\t// TODO: this needs work\r\n\t\t\t\t// (but maybe later - I can hardly imagine anyone passing their dates in weeks)\r\n\t\t\t\tlet val = $utils.getDayFromWeek(\r\n\t\t\t\t\tparseInt(matches[parsedIndexes.week]),\r\n\t\t\t\t\tthis.utc ? res.getUTCFullYear() : res.getFullYear(),\r\n\t\t\t\t\t1,\r\n\t\t\t\t\tthis.utc\r\n\t\t\t\t);\r\n\t\t\t\tif (this.utc) {\r\n\t\t\t\t\tres.setUTCMonth(0);\r\n\t\t\t\t\tres.setUTCDate(val);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tres.setMonth(0);\r\n\t\t\t\t\tres.setDate(val);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Day\r\n\t\t\tif (parsedIndexes.day > -1) {\r\n\t\t\t\tlet val = parseInt(matches[parsedIndexes.day]);\r\n\t\t\t\tif (this.utc) {\r\n\t\t\t\t\tres.setUTCDate(val);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tres.setDate(val);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Year day\r\n\t\t\tif (parsedIndexes.yearDay > -1) {\r\n\t\t\t\tlet val = parseInt(matches[parsedIndexes.yearDay]);\r\n\t\t\t\tif (this.utc) {\r\n\t\t\t\t\tres.setUTCMonth(0);\r\n\t\t\t\t\tres.setUTCDate(val);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tres.setMonth(0);\r\n\t\t\t\t\tres.setDate(val);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// 24 Hour (0-23)\r\n\t\t\tif (parsedIndexes.hourBase0 > -1) {\r\n\t\t\t\tlet val = parseInt(matches[parsedIndexes.hourBase0]);\r\n\t\t\t\tif (this.utc) {\r\n\t\t\t\t\tres.setUTCHours(val);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tres.setHours(val);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// 24 Hour (1-24)\r\n\t\t\tif (parsedIndexes.hourBase1 > -1) {\r\n\t\t\t\tlet val = parseInt(matches[parsedIndexes.hourBase1]) - 1;\r\n\t\t\t\tif (this.utc) {\r\n\t\t\t\t\tres.setUTCHours(val);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tres.setHours(val);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// 12 Hour (0-11)\r\n\t\t\tif (parsedIndexes.hour12Base0 > -1) {\r\n\t\t\t\tlet val = parseInt(matches[parsedIndexes.hour12Base0]);\r\n\t\t\t\tif (val == 11) {\r\n\t\t\t\t\tval = 0;\r\n\t\t\t\t}\r\n\t\t\t\tif ((parsedIndexes.am > -1) && !this.isAm(matches[parsedIndexes.am])) {\r\n\t\t\t\t\tval += 12;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.utc) {\r\n\t\t\t\t\tres.setUTCHours(val);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tres.setHours(val);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// 12 Hour (1-12)\r\n\t\t\tif (parsedIndexes.hour12Base1 > -1) {\r\n\t\t\t\tlet val = parseInt(matches[parsedIndexes.hour12Base1]);\r\n\t\t\t\tif (val == 12) {\r\n\t\t\t\t\tval = 0;\r\n\t\t\t\t}\r\n\t\t\t\tif ((parsedIndexes.am > -1) && !this.isAm(matches[parsedIndexes.am])) {\r\n\t\t\t\t\tval += 12;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.utc) {\r\n\t\t\t\t\tres.setUTCHours(val);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tres.setHours(val);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Minute\r\n\t\t\tif (parsedIndexes.minute > -1) {\r\n\t\t\t\tlet val = parseInt(matches[parsedIndexes.minute]);\r\n\t\t\t\tif (this.utc) {\r\n\t\t\t\t\tres.setUTCMinutes(val);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tres.setMinutes(val);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Second\r\n\t\t\tif (parsedIndexes.second > -1) {\r\n\t\t\t\tlet val = parseInt(matches[parsedIndexes.second]);\r\n\t\t\t\tif (this.utc) {\r\n\t\t\t\t\tres.setUTCSeconds(val);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tres.setSeconds(val);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Millisecond\r\n\t\t\tif (parsedIndexes.millisecond > -1) {\r\n\t\t\t\tlet val = parseInt(matches[parsedIndexes.millisecond]);\r\n\t\t\t\tif (parsedIndexes.millisecondDigits == 2) {\r\n\t\t\t\t\tval *= 10;\r\n\t\t\t\t}\r\n\t\t\t\telse if (parsedIndexes.millisecondDigits == 1) {\r\n\t\t\t\t\tval *= 100;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.utc) {\r\n\t\t\t\t\tres.setUTCMilliseconds(val);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tres.setMilliseconds(val);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Timestamp\r\n\t\t\tif (parsedIndexes.timestamp > -1) {\r\n\t\t\t\tres.setTime(parseInt(matches[parsedIndexes.timestamp]))\r\n\t\t\t}\r\n\r\n\t\t\t// Adjust time zone\r\n\t\t\tif (parsedIndexes.zone > -1) {\r\n\t\t\t\tlet zone = matches[parsedIndexes.zone].replace(/:/, \"\");\r\n\t\t\t\tlet match = $type.getValue(zone.match(/([+\\-]?)([0-9]{2})([0-9]{2})/));\r\n\t\t\t\tlet dir = match[1];\r\n\t\t\t\tlet hour = match[2];\r\n\t\t\t\tlet minute = match[3];\r\n\t\t\t\tlet offset = parseInt(hour) * 60 + parseInt(minute);\r\n\r\n\t\t\t\t// Adjust offset\r\n\t\t\t\t// Making it negative does not seem to make sense, but it's right\r\n\t\t\t\t// because of how JavaScript calculates GTM offsets\r\n\t\t\t\tif (dir == \"+\") {\r\n\t\t\t\t\toffset *= -1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Check the difference in offset\r\n\t\t\t\tlet originalOffset = res.getTimezoneOffset();\r\n\t\t\t\tlet diff = offset - originalOffset;\r\n\t\t\t\tif (diff != 0) {\r\n\t\t\t\t\tres.setMinutes(res.getMinutes() + diff);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// ISO\r\n\t\t\tif (parsedIndexes.iso > -1) {\r\n\t\t\t\tif (matches[parsedIndexes.iso + 7] == \"Z\" || matches[parsedIndexes.iso + 7] == \"z\") {\r\n\t\t\t\t\tres = new Date();\r\n\t\t\t\t\tres.setUTCFullYear($type.toNumber(matches[parsedIndexes.iso + 0]));\r\n\t\t\t\t\tres.setUTCMonth($type.toNumber(matches[parsedIndexes.iso + 1]) - 1);\r\n\t\t\t\t\tres.setUTCDate($type.toNumber(matches[parsedIndexes.iso + 2]));\r\n\t\t\t\t\tres.setUTCHours($type.toNumber(matches[parsedIndexes.iso + 3]));\r\n\t\t\t\t\tres.setUTCMinutes($type.toNumber(matches[parsedIndexes.iso + 4]));\r\n\t\t\t\t\tres.setUTCSeconds($type.toNumber(matches[parsedIndexes.iso + 5]));\r\n\t\t\t\t\tres.setUTCMilliseconds($type.toNumber(matches[parsedIndexes.iso + 6]));\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tres = new Date(\r\n\t\t\t\t\t\t$type.toNumber(matches[parsedIndexes.iso + 0]),\r\n\t\t\t\t\t\t$type.toNumber(matches[parsedIndexes.iso + 1]) - 1,\r\n\t\t\t\t\t\t$type.toNumber(matches[parsedIndexes.iso + 2]),\r\n\t\t\t\t\t\t$type.toNumber(matches[parsedIndexes.iso + 3]),\r\n\t\t\t\t\t\t$type.toNumber(matches[parsedIndexes.iso + 4]),\r\n\t\t\t\t\t\t$type.toNumber(matches[parsedIndexes.iso + 5]),\r\n\t\t\t\t\t\t$type.toNumber(matches[parsedIndexes.iso + 6]),\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// Didn't match anything\r\n\t\t\t// Let's try dropping it into Date constructor and hope for the best\r\n\t\t\tres = new Date(source);\r\n\t\t}\r\n\r\n\t\treturn res;\r\n\t}\r\n\r\n\t/**\r\n\t * Resolves month name (i.e. \"December\") into a month number (11).\r\n\t *\r\n\t * @param  {MonthNames}  value  Month name\r\n\t * @return {number}             Month number\r\n\t */\r\n\tprotected resolveMonth(value: MonthNames): number {\r\n\r\n\t\t// Let's try English first\r\n\t\tlet month: number = this._months.indexOf(value);\r\n\t\tif (month > -1) {\r\n\t\t\treturn month;\r\n\t\t}\r\n\r\n\t\t// Try the translation\r\n\t\tif (this.language && !this.language.isDefault()) {\r\n\t\t\tmonth = this.language.translateAll(this._months).indexOf(value);\r\n\t\t\tif (month > -1) {\r\n\t\t\t\treturn month\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn 0;\r\n\t}\r\n\r\n\t/**\r\n\t * Resolves short month name (i.e. \"Dec\") into a month number.\r\n\t *\r\n\t * @param  {ShortMonthNames}  value  Short month name\r\n\t * @return {number}                  Month number\r\n\t */\r\n\tprotected resolveShortMonth(value: ShortMonthNames): number {\r\n\r\n\t\t// Let's try English first\r\n\t\tlet month: number = this._monthsShort.indexOf(value);\r\n\t\tif (month > -1) {\r\n\t\t\treturn month;\r\n\t\t}\r\n\r\n\t\t// Try the translation\r\n\t\tif (this.language && !this.language.isDefault()) {\r\n\t\t\tmonth = this.language.translateAll(this._monthsShort).indexOf(value);\r\n\t\t\tif (month > -1) {\r\n\t\t\t\treturn month\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn 0;\r\n\t}\r\n\r\n\t/**\r\n\t * Checks if passed in string represents AM/PM notation in many of its\r\n\t * versions.\r\n\t *\r\n\t * @param  {string}   value  Source string\r\n\t * @return {boolean}         Is it AM/PM?\r\n\t */\r\n\tprotected isAm(value: string): boolean {\r\n\t\tlet list = this.getStringList([\"AM\", \"A.M.\", \"A\"]);\r\n\t\treturn list.indexOf(value.toUpperCase()) > -1;\r\n\t}\r\n\r\n\t/**\r\n\t * Invalidates related [[Sprite]] causing it to redraw.\r\n\t */\r\n\tprotected invalidateSprite(): void {\r\n\t\tif (this.sprite) {\r\n\t\t\tthis.sprite.invalidate();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Translates list of strings.\r\n\t *\r\n\t * @param  {Array<keyof ILocaleProperties>}  list  Source strings\r\n\t * @return {Array<string>}                         Translated strings\r\n\t */\r\n\tprotected getStringList(list: Array<keyof ILocaleProperties>): Array<string> {\r\n\t\tlet res: string[] = [];\r\n\t\tfor (let i: number = 0; i < list.length; i++) {\r\n\t\t\tres.push($utils.escapeForRgex(list[i]));\r\n\t\t\t// translate?\r\n\t\t\tif (this.language && !this.language.isDefault()) {\r\n\t\t\t\tres.push($utils.escapeForRgex(this.language.translate(list[i])));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn res;\r\n\t}\r\n\r\n\t/**\r\n\t * Date format to use.\r\n\t *\r\n\t * If format is not supplied in-line in the string, this setting will be\r\n\t * used.\r\n\t *\r\n\t * @default \"yyyy-MM-dd\"\r\n\t * @param {string} value Date format\r\n\t */\r\n\tpublic set dateFormat(value: string) {\r\n\t\tthis._dateFormat = value;\r\n\t\tthis.invalidateSprite();\r\n\t}\r\n\r\n\t/**\r\n\t * @return {string} Date format\r\n\t */\r\n\tpublic get dateFormat(): string {\r\n\t\treturn this._dateFormat;\r\n\t}\r\n\r\n\t/**\r\n\t * Date format to use when parsing dates.\r\n\t *\r\n\t * @default \"yyyy-MM-dd\"\r\n\t * @param {string} value Date format\r\n\t */\r\n\tpublic set inputDateFormat(value: string) {\r\n\t\tthis._inputDateFormat = value;\r\n\t\tthis.invalidateSprite();\r\n\t}\r\n\r\n\t/**\r\n\t * @return {string} Date format\r\n\t */\r\n\tpublic get inputDateFormat(): string {\r\n\t\treturn this._inputDateFormat;\r\n\t}\r\n\r\n\t/**\r\n\t * Should formatter use UTC functions?\r\n\t *\r\n\t * If UTC is used, all date/time values will be independent on client's\r\n\t * time zone.\r\n\t *\r\n\t * @param {boolean} value Use UTC?\r\n\t */\r\n\tpublic set utc(value: boolean) {\r\n\t\tthis._utc = value;\r\n\t\tthis.invalidateSprite();\r\n\t}\r\n\r\n\t/**\r\n\t * @return {boolean} Use UTC?\r\n\t */\r\n\tpublic get utc(): boolean {\r\n\t\treturn this._utc;\r\n\t}\r\n\r\n\t/**\r\n\t * Dirst day of the week:\r\n\t *\r\n\t * * 0 - Sunday\r\n\t * * 1 - Monday\r\n\t * * 2 - Tuesday\r\n\t *\r\n\t * Etc.\r\n\t *\r\n\t * @param {number} value First day of week\r\n\t */\r\n\tpublic set firstDayOfWeek(value: number) {\r\n\t\tthis._firstDayOfWeek = value;\r\n\t\tthis.invalidateSprite();\r\n\t}\r\n\r\n\t/**\r\n\t * @return {number} First day of week\r\n\t */\r\n\tpublic get firstDayOfWeek(): number {\r\n\t\treturn this._firstDayOfWeek;\r\n\t}\r\n\r\n\t/**\r\n\t * Output format for the formatted date.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @param {string}  value  Format\r\n\t */\r\n\tpublic set outputFormat(value: string) {\r\n\t\tthis._outputFormat = value.toLowerCase();\r\n\t\tthis.invalidateSprite();\r\n\t}\r\n\r\n\t/**\r\n\t * @ignore Exclude from docs\r\n\t * @return {string} Format\r\n\t */\r\n\tpublic get outputFormat(): string {\r\n\t\treturn this._outputFormat;\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"DateFormatter\"] = DateFormatter;\r\n"]}