{"version":3,"file":"ExportCSS.js","sourceRoot":"","sources":["../../../../../src/.internal/core/export/ExportCSS.ts"],"names":[],"mappings":"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","sourcesContent":["import { StyleRule } from \"../utils/DOM\";\r\nimport { InterfaceColorSet } from \"../utils/InterfaceColorSet\";\r\nimport { Dictionary } from \"../utils/Dictionary\";\r\nimport { MultiDisposer, IDisposer, CounterDisposer } from \"../utils/Disposer\";\r\n\r\nconst rules = new Dictionary<string, CounterDisposer>();\r\n\r\n/**\r\n * A dynamically-loadable CSS module for Export menu.\r\n *\r\n * @ignore Exclude from docs\r\n * @param prefix  Prefix to addtach to class names\r\n * @return A MultiDisposer with style rules\r\n */\r\nexport default function(element: ShadowRoot | null, prefix?: string): IDisposer {\r\n\tconst newPrefix = (prefix ? prefix : \"amexport\");\r\n\r\n\tlet colorSet = new InterfaceColorSet();\r\n\r\n\tconst counter = rules.insertKeyIfEmpty(newPrefix, () => {\r\n\t\tconst disposer = new MultiDisposer([\r\n\r\n\t\t\t/*new StyleRule(`.${newPrefix}-menu`, {\r\n\t\t\t\t\"opacity\": \"0.3\",\r\n\t\t\t\t\"transition\": \"all 100ms ease-in-out\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(`div:hover .${newPrefix}-menu, .${newPrefix}-menu.active`, {\r\n\t\t\t\t\"opacity\": \"0.9\",\r\n\t\t\t}),*/\r\n\r\n\t\t\tnew StyleRule(element, `.${newPrefix}-menu *`, {\r\n\t\t\t\t\"box-sizing\": \"border-box\"\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(element, `.${newPrefix}-menu-level-0`, {\r\n\t\t\t\t\"position\": \"absolute\",\r\n\t\t\t\t\"top\": \"5px\",\r\n\t\t\t\t\"right\": \"5px\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(element, `.${newPrefix}-menu-level-0.${newPrefix}-left`, {\r\n\t\t\t\t\"right\": \"auto\",\r\n\t\t\t\t\"left\": \"5px\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(element, `.${newPrefix}-menu-level-0.${newPrefix}-right`, {\r\n\t\t\t\t\"right\": \"5px\",\r\n\t\t\t\t\"left\": \"auto\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(element, `.${newPrefix}-menu-level-0.${newPrefix}-top`, {\r\n\t\t\t\t\"top\": \"5px\",\r\n\t\t\t\t\"bottom\": \"auto\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(element, `.${newPrefix}-menu-level-0.${newPrefix}-bottom`, {\r\n\t\t\t\t\"top\": \"auto\",\r\n\t\t\t\t\"bottom\": \"5px\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(element, `.${newPrefix}-item.${newPrefix}-item-level-0`, {\r\n\t\t\t\t\"opacity\": \"0.3\",\r\n\t\t\t\t\"width\": \"30px\",\r\n\t\t\t\t\"min-height\": \"30px\",\r\n\t\t\t\t\"transition\": \"all 100ms ease-in-out\",\r\n\t\t\t\t//\"text-indent\": \"-9999px\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(element, `div:hover > div > .${newPrefix}-menu .${newPrefix}-item.${newPrefix}-item-level-0, .${newPrefix}-item.${newPrefix}-item-level-0.active`, {\r\n\t\t\t\t\"opacity\": \"0.9\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(element, `.${newPrefix}-item.${newPrefix}-item-level-0 > a`, {\r\n\t\t\t\t\"padding\": \"0\",\r\n\t\t\t\t\"text-align\": \"center\",\r\n\t\t\t\t\"overflow\": \"hidden\"\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(element, `.${newPrefix}-item.${newPrefix}-item-level-0:before`, {\r\n\t\t\t\t\"display\": \"block\"\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(element, `.${newPrefix}-item`, {\r\n\t\t\t\t\"position\": \"relative\",\r\n\t\t\t\t\"display\": \"block\",\r\n\t\t\t\t\"opacity\": \"0\",\r\n\t\t\t\t\"z-index\": \"1\",\r\n\t\t\t\t\"border-radius\": \"3px\",\r\n\t\t\t\t\"background-color\": colorSet.getFor(\"secondaryButton\").hex,\r\n\t\t\t\t\"padding\": \"0\",\r\n\t\t\t\t\"margin\": \"1px 1px 0 0\",\r\n\t\t\t\t\"color\": colorSet.getFor(\"secondaryButton\").alternative.hex,\r\n\t\t\t\t\"transition\": \"all 100ms ease-in-out, opacity 0.5s ease 0.5s\",\r\n\t\t\t\t//\"width\": \"initial\",\r\n\t\t\t\t//\"height\": \"initial\",\r\n\t\t\t\t//\"text-indent\": \"initial\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(element, `.${newPrefix}-left .${newPrefix}-item`, {\r\n\t\t\t\t\"margin\": \"1px 0 0 1px\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(element, `.${newPrefix}-item:hover, .${newPrefix}-item.active`, {\r\n\t\t\t\t\"background\": colorSet.getFor(\"secondaryButtonHover\").hex,\r\n\t\t\t\t\"color\": colorSet.getFor(\"secondaryButtonText\").hex,\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(element, `.${newPrefix}-item > .${newPrefix}-menu`, {\r\n\t\t\t\t\"position\": \"absolute\",\r\n\t\t\t\t\"top\": \"-1px\",\r\n\t\t\t\t\"right\": \"0\",\r\n\t\t\t\t\"margin-right\": \"100%\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(element, `.${newPrefix}-left .${newPrefix}-item > .${newPrefix}-menu`, {\r\n\t\t\t\t\"left\": \"0\",\r\n\t\t\t\t\"right\": \"auto\",\r\n\t\t\t\t\"margin-left\": \"100%\",\r\n\t\t\t\t\"margin-right\": \"auto\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(element, `.${newPrefix}-right .${newPrefix}-item > .${newPrefix}-menu`, {\r\n\t\t\t\t\"left\": \"auto\",\r\n\t\t\t\t\"right\": \"0\",\r\n\t\t\t\t\"margin-left\": \"auto\",\r\n\t\t\t\t\"margin-right\": \"100%\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(element, `.${newPrefix}-top .${newPrefix}-item > .${newPrefix}-menu`, {\r\n\t\t\t\t\"top\": \"-1px\",\r\n\t\t\t\t\"bottom\": \"auto\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(element, `.${newPrefix}-bottom .${newPrefix}-item > .${newPrefix}-menu`, {\r\n\t\t\t\t\"top\": \"auto\",\r\n\t\t\t\t\"bottom\": \"0\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(element, `.${newPrefix}-item > .${newPrefix}-menu`, {\r\n\t\t\t\t\"display\": \"none\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(element, `.${newPrefix}-item:hover > .${newPrefix}-menu, .${newPrefix}-item.active > .${newPrefix}-menu`, {\r\n\t\t\t\t\"display\": \"block\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(element, `.${newPrefix}-item:hover > .${newPrefix}-menu > .${newPrefix}-item, .${newPrefix}-item.active > .${newPrefix}-menu > .${newPrefix}-item`, {\r\n\t\t\t\t\"opacity\": \"1\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(element, `.${newPrefix}-menu`, {\r\n\t\t\t\t\"display\": \"block\",\r\n\t\t\t\t\"list-style\": \"none\",\r\n\t\t\t\t\"margin\": \"0\",\r\n\t\t\t\t\"padding\": \"0\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(element, `.${newPrefix}-label`, {\r\n\t\t\t\t\"display\": \"block\",\r\n\t\t\t\t\"cursor\": \"default\",\r\n\t\t\t\t\"padding\": \"0.5em 1em\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(element, `.${newPrefix}-icon`, {\r\n\t\t\t\t\"display\": \"block\",\r\n\t\t\t\t\"cursor\": \"default\",\r\n\t\t\t\t\"padding\": \"0.2em 0.4em\",\r\n\t\t\t\t\"width\": \"1.2em\",\r\n\t\t\t\t\"height\": \"1.2em\",\r\n\t\t\t\t\"min-width\": \"32px\",\r\n\t\t\t\t\"min-height\": \"32px\",\r\n\t\t\t\t\"margin\": \"auto auto\",\r\n\t\t\t\t\"border-radius\": \"3px\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(element, `.${newPrefix}-item-level-0 > .${newPrefix}-icon`, {\r\n\t\t\t\t\"padding\": \"0.1em 0.2em\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(element, `.${newPrefix}-clickable`, {\r\n\t\t\t\t\"cursor\": \"pointer\",\r\n\t\t\t}),\r\n\t\t]);\r\n\r\n\t\treturn new CounterDisposer(() => {\r\n\t\t\trules.removeKey(newPrefix);\r\n\t\t\tdisposer.dispose();\r\n\t\t});\r\n\t});\r\n\r\n\treturn counter.increment();\r\n}\r\n"]}